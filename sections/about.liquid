{% liquid
  assign section_id = section.settings.custom_id | default: section.id
  assign section_class = 'section-about'
%}

<section id="{{ section_id }}" class="{{ section_class }}">
  <div class="flex flex-col-reverse 2xl:justify-center 2xl:items-center md:flex-row border-y border-black xl:h-[720px] 2xl:h-[800px] overflow-hidden">
    {% comment %} Left side - Image {% endcomment %}
    <div class="w-full md:w-1/2 overflow-hidden border-t md:border-t-0 md:border-r border-black object-center object-cover relative">
      <div class="h-full w-auto overflow-hidden object-center object-cover aspect-square md:aspect-auto">
        {% if section.settings.image %}
          <img
            src="{{ section.settings.image | image_url: width: 2000 }}"
            srcset="
              {{ section.settings.image | image_url: width: 600 }} 600w,
              {{ section.settings.image | image_url: width: 1200 }} 1200w,
              {{ section.settings.image | image_url: width: 2000 }} 2000w
            "
            alt="{{ section.settings.image.alt | escape }}"
            loading="eager"
            width="100%"
            height="100%"
            class="w-full h-full object-center object-cover"
          >
        {% else %}
          <img
            src="https://cdn.shopify.com/s/files/1/0670/9051/4081/files/3296.jpg?v=1758508794"
            alt="{{ 'about.image_alt' | t }}"
            class="w-full h-full object-center object-cover"
            loading="eager"
            width="100%"
            height="100%"
          >
        {% endif %}
      </div>
    </div>

    {% comment %} Right side - Content {% endcomment %}
    <div class="w-full md:w-1/2 flex flex-col items-center justify-center px-4 sm:px-4 md:px-9 lg:px-20 xl:px-30 2xl:px-[140px] py-10 sm:py-14 md:py-10 lg:py-20 xl:py-30 2xl:py-[100px]">
      <div class="max-w-md">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'content_block' %}
              <div class="last:mb-0" {{ block.shopify_attributes }}>
                {% if block.settings.heading %}
                  <h2 class="text-sm lg:text-base font-medium mb-4 uppercase font-mono">
                    {{ block.settings.heading }}
                  </h2>
                {% endif %}

                {% if block.settings.content %}
                  <div class="text-sm lg:text-base text-subtitle font-sans [&>p]:mb-4 [&>p:last-child]:mb-0 [&>p]:leading-relaxed">
                    {{ block.settings.content }}
                  </div>
                {% endif %}
              </div>
          {% endcase %}
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% stylesheet %}
  .{{ section_class }} h1 {
    font-family: var(--font-family-sans);
  }

  .{{ section_class }} .prose {
    font-family: var(--font-family-sans);
  }

  .{{ section_class }} .prose p {
    margin-bottom: 1rem;
    line-height: 1.6;
    font-family: var(--font-family-sans);
  }

  .{{ section_class }} .prose p:last-child {
    margin-bottom: 0;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:sections.about.name",
  "tag": "section",
  "class": "section-about",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.about.settings.image.label",
      "info": "t:sections.about.settings.image.info"
    },
    {
      "type": "text",
      "id": "custom_id",
      "label": "t:sections.about.settings.custom_id.label",
      "info": "t:sections.about.settings.custom_id.info"
    }
  ],
  "blocks": [
    {
      "type": "content_block",
      "name": "t:sections.about.blocks.content_block.name",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "t:sections.about.blocks.content_block.settings.heading.label",
          "info": "t:sections.about.blocks.content_block.settings.heading.info"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "t:sections.about.blocks.content_block.settings.content.label",
          "info": "t:sections.about.blocks.content_block.settings.content.info"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.about.presets.about.name",
      "blocks": [
        {
          "type": "content_block",
          "settings": {
            "content": "<p>Tell your story here. Share what makes your brand unique and connect with your customers.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %}
