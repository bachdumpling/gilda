{% liquid
  assign page_content = section.settings.page
  assign section_id = section.settings.custom_id | default: section.id
  assign section_class = 'section-about'
%}

<section
  id="{{ section_id }}"
  class="{{ section_class }}"
  style="
    --section-padding-top: {{ section.settings.padding_top }}px;
    --section-padding-bottom: {{ section.settings.padding_bottom }}px;
  ">
  {% if page_content %}
    <div class="grid grid-cols-1 md:grid-cols-2 border-t border-b border-black h-fit">
      {% comment %} Left side - Image {% endcomment %}
      <div class="h-full w-full flex justify-center items-center border-b border-t sm:border-t-0 md:border-b-0 md:border-r border-black overflow-hidden">
        {% if section.settings.image %}
          {% render 'image'
            , image: section.settings.image
            , class: 'w-full h-full object-cover'
          %}
        {% else %}
          <img
            src="https://cdn.shopify.com/s/files/1/0670/9051/4081/files/3296.jpg?v=1758508794"
            alt="{{ 'about.image_alt' | t }}"
            class="w-full h-full object-cover"
            loading="lazy">
        {% endif %}
      </div>

      {% comment %} Right side - Content {% endcomment %}
      <div class="flex flex-col justify-center px-4 py-10 md:px-4 md:max-w-[30rem] xl:max-w-[40rem] mx-auto">
        {% if page_content.title %}
          <h1 class="text-sm font-medium tracking-widest mb-6 text-left uppercase text-title font-mono">
            {{ page_content.title }}
          </h1>
        {% endif %}

        {% if page_content.content %}
          <div class="text-sm prose prose-sm lg:prose-base max-w-none text-left text-subtitle font-sans">
            {{ page_content.content }}
          </div>
        {% endif %}

        {% comment %} Fallback content if no page is selected {% endcomment %}
        {% unless page_content %}
          <h1 class="text-sm font-medium tracking-widest mb-6 text-left uppercase text-title font-sans">
            {{ 'about.title' | t }}
          </h1>
          <div class="text-sm prose prose-sm lg:prose-base max-w-none text-left text-subtitle font-sans">
            <p>{{ 'about.default_content' | t }}</p>
          </div>
        {% endunless %}
      </div>
    </div>
  {% else %}
    {% comment %} Fallback when no page is selected {% endcomment %}
    <div class="flex items-center justify-center h-[70vh]">
      <p class="text-sm opacity-70">{{ 'about.no_page_selected' | t }}</p>
    </div>
  {% endif %}
</section>

{% stylesheet %}
  .{{ section_class }} {
    padding-top: var(--section-padding-top, 0px);
    padding-bottom: var(--section-padding-bottom, 0px);
  }

  .{{ section_class }}
  h1 {
    font-family: var(--font-family-sans);
  }

  .{{ section_class }}
  .prose {
    font-family: var(--font-family-sans);
  }

  .{{ section_class }}
  .prose p {
    margin-bottom: 1rem;
    line-height: 1.6;
    font-family: var(--font-family-sans);
  }

  .{{ section_class }}.prose p:last-child {
    margin-bottom: 0;
  }

  @media (max-width: 639px) {
    .{{ section_class }}.grid > div:first-child {
      order: 2;
    }
    .{{ section_class }}.grid > div:last-child {
      order: 1;
    }
  }
{% endstylesheet %}

{% schema %}
  {
    "name": "t:sections.about.name",
    "tag": "section",
    "class": "section-about",
    "settings": [
      {
        "type": "page",
        "id": "page",
        "label": "t:sections.about.settings.page.label",
        "info": "t:sections.about.settings.page.info"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "t:sections.about.settings.image.label",
        "info": "t:sections.about.settings.image.info"
      },
      {
        "type": "text",
        "id": "custom_id",
        "label": "t:sections.about.settings.custom_id.label",
        "info": "t:sections.about.settings.custom_id.info"
      },
      {
        "type": "header",
        "content": "t:sections.about.settings.spacing.header"
      }, {
        "type": "range",
        "id": "padding_top",
        "label": "t:sections.about.settings.padding_top.label",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 0,
        "unit": "px"
      }, {
        "type": "range",
        "id": "padding_bottom",
        "label": "t:sections.about.settings.padding_bottom.label",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 0,
        "unit": "px"
      }
    ],
    "presets": [
      {
        "name": "t:sections.about.presets.about.name"
      }
    ]
  }
{% endschema %}