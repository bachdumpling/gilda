{% liquid
  assign section_id = section.settings.custom_id | default: section.id
  assign section_class = 'section-' | append: section.type
%}

<section
  id="{{ section_id }}"
  class="{{ section_class }} bg-[#f2efed]"
>
  <div class="grid grid-cols-1 lg:grid-cols-2 relative">
    {%- comment -%} Left Column - Image {%- endcomment -%}
    <div class="relative h-[400px] lg:h-[800px] w-full">
      {%- if section.settings.image != blank -%}
        {{
          section.settings.image
          | image_url: width: 1440
          | image_tag:
            loading: 'lazy',
            class: 'absolute inset-0 w-full h-full object-cover',
            widths: '360, 720, 1080, 1440',
            sizes: '(min-width: 1024px) 50vw, 100vw'
        }}
      {%- else -%}
        <div class="absolute inset-0 w-full h-full bg-gray-200 flex items-center justify-center">
          <span class="text-gray-400 font-mono text-sm">{{ 'sections.contact.image_placeholder' | t }}</span>
        </div>
      {%- endif -%}
    </div>

    {%- comment -%} Vertical Divider {%- endcomment -%}
    <div class="hidden lg:block absolute left-1/2 top-0 bottom-0 w-px bg-black/10 -translate-x-1/2"></div>

    {%- comment -%} Right Column - Content {%- endcomment -%}
    <div class="relative h-[400px] lg:h-[800px] w-full flex items-center justify-center px-6 py-12 lg:px-[140px] lg:py-[103px]">
      <div class="flex flex-col gap-10 w-full max-w-[432px]">
        {%- comment -%} Contact Section {%- endcomment -%}
        <div class="flex flex-col gap-3">
          <h2 class="font-mono font-medium text-base text-black uppercase">
            {{ 'sections.contact.contact_heading' | t }}
          </h2>
          <div class="text-sm leading-relaxed text-[#333333]">
            {%- if section.settings.contact_text != blank -%}
              {{ section.settings.contact_text }}
            {%- else -%}
              <p>
                {{ 'sections.contact.contact_description' | t }}
                <a href="mailto:{{ section.settings.contact_email }}" class="underline decoration-solid">
                  {{- section.settings.contact_email -}}</a
                >.
              </p>
            {%- endif -%}
          </div>
        </div>

        {%- comment -%} Wholesale Inquiries Section {%- endcomment -%}
        <div class="flex flex-col gap-3">
          <h2 class="font-mono font-medium text-base text-black uppercase">
            {{ 'sections.contact.wholesale_heading' | t }}
          </h2>
          <div class="text-sm leading-relaxed text-[#333333]">
            {%- if section.settings.wholesale_text != blank -%}
              {{ section.settings.wholesale_text }}
            {%- else -%}
              <p>
                {{ 'sections.contact.wholesale_description' | t }}
                <a href="mailto:{{ section.settings.wholesale_email }}" class="underline decoration-solid">
                  {{- section.settings.wholesale_email -}}
                </a>
              </p>
            {%- endif -%}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Contact",
  "tag": "section",
  "class": "section-contact",
  "settings": [
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Contact image"
    },
    {
      "type": "header",
      "content": "Contact section"
    },
    {
      "type": "html",
      "id": "contact_text",
      "label": "Contact text",
      "info": "Leave blank to use default text with email link"
    },
    {
      "type": "text",
      "id": "contact_email",
      "label": "Contact email",
      "default": "info@gildaclothing.com"
    },
    {
      "type": "header",
      "content": "Wholesale section"
    },
    {
      "type": "html",
      "id": "wholesale_text",
      "label": "Wholesale text",
      "info": "Leave blank to use default text with email link"
    },
    {
      "type": "text",
      "id": "wholesale_email",
      "label": "Wholesale email",
      "default": "wholesale@gildaclothing.com"
    },
    {
      "type": "header",
      "content": "Section settings"
    },
    {
      "type": "text",
      "id": "custom_id",
      "label": "Custom ID",
      "info": "Optional custom section ID"
    }
  ],
  "presets": [
    {
      "name": "Contact",
      "settings": {
        "contact_email": "info@gildaclothing.com",
        "wholesale_email": "wholesale@gildaclothing.com"
      }
    }
  ]
}
{% endschema %}
